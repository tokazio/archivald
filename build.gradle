tasks.register("clean") {
    group = "build"
    dependsOn gradle.includedBuilds*.task(':clean')
}

tasks.register("build") {
    group = "build"
    dependsOn(
            ['annotations', 'konsist', 'archunit', 'archunit-processor', 'internal-processor', 'konsist-processor', 'ksp-processor', 'jap-processor', 'standard-rules'].collect {
                gradle.includedBuild(it).task(':build')
            }
    )
}

tasks.register("jar") {
    group = "build"
    dependsOn(
            ['konsist', 'archunit', 'ksp-processor', 'jap-processor', 'standard-rules'].collect {
                gradle.includedBuild(it).task(':jar')
            }
    )
}

tasks.register("publish") {
    group = "publishing"
    dependsOn(
            ['konsist', 'archunit', 'ksp-processor', 'jap-processor', 'standard-rules'].collect {
                gradle.includedBuild(it).task(':publish')
            }
    )
}

tasks.register("publishToMavenLocal") {
    group = "publishing"
    dependsOn(
            ['konsist', 'archunit', 'ksp-processor', 'jap-processor', 'standard-rules'].collect {
                gradle.includedBuild(it).task(':publishToMavenLocal')
            }
    )
}
